# 在centos上离线安装docker

## 需求背景
需要在客户的服务器上部署服务，为了简化，故使用了docker技术。结果在部署的时候，发现docker的安装依赖也是很麻烦的，非常耗时间。

客户使用的系统是centos7.3版本。

## 解决方案
几经碰壁之后，总结最优化的方案时：

### 1. 安装一个和客户系统版本一样的环境
需要联网，因为不知道客户安装过程选的是什么，我们可以直接最小化安装即可。

### 2. 下载依赖
下面的命令会自动分析安装包的依赖，并下载到指定的目录：

```sh
yum install --downloadonly --downloaddir=./ docker-ce-17.06.0.ce-1.el7.centos.x86_64.rpm
```

### 3. 在客户的机器上安装所有rpm

```sh
yum install *.rpm
```


